<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<title>CDW</title>
	<!-- estilos -->
	<link rel='stylesheet' type='text/css' href='/objetos/estilos.css'>
	<!-- utilidades -->
	<script type='text/javascript' src='/objetos/moment.js'></script>
	<script type='text/javascript' src='/objetos/moment-with-locales.min.js'></script>
	<script type='text/javascript' src='/objetos/utils.js'></script>
	<!-- app Diario-->
	<script type='text/javascript' src='/objetos/app.js'></script>
</head>
<body>
	<h1>Curso de Diseño Web</h1>

	<section id='list'>
		<h2 id='title-list'>Listado:</h2>
		<div id='all'>
			<small>cargando...</small>
		</div>
	</section>

	<section id='create'>
		<h2 id='title-create'>Crear:</h2>

		<!-- formulario nueva noticia -->
		<form id='form-new' onsubmit='return nuevaNoticia(this)'>
			<input
				id='title'
				placeholder='Titulo'
				type='text'
				required>
			<input
				id='email'
				placeholder='Email'
				type='email'
				required>
			<textarea
				id='content'
				placeholder='Noticia'
				type='text'
				required></textarea>
			<input class='btn btn-primary' type='submit' value='Guardar'>
		</form>

		<!-- formulario editar noticia -->
		<form id='form-edit' class='none' onsubmit='return editarNoticiaSubmit(this)'>
			<input
				id='id-edit'
				type='text'
				value=''
				class='none'>
			<input
				id='title-edit'
				placeholder='Titulo'
				type='text'
				required>
			<input
				id='email-edit'
				placeholder='Email'
				type='email'
				required>
			<textarea
				id='content-edit'
				placeholder='Noticia'
				type='text'
				required></textarea>
			<input id='submit' class='btn btn-warning' type='submit' value='Guardar'>
		</form>
	</section>

	<footer>
		<div class='logo-footer'>
			<a href="https://github.com/rody7val/web-noticias-cdw" target='_blank' rel="noopener noreferrer">
				<img src="/objetos/github-logo.png" alt='github-logo'>
			</a>
		</div>
	</footer>

	<!-- ejecución -->
	<script type='text/javascript'>
		// crear nuevo objeto Diario			
		var miDiario = diario([]);
		moment.locale('es');

		// obtener noticias de la base de datos
		miDiario.setAll(function (notices) {
			// y refrescar lista
			renderList(notices);	
		});
	</script>
</body>
</html>