<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<title>CDW</title>
	<!-- estilos -->
	<link rel='stylesheet' type='text/css' href='/objetos/css/estilos.css'>
	<!-- dependencias -->
	<script type='text/javascript' src='/objetos/js/moment.js'></script>
	<script type='text/javascript' src='/objetos/js/moment-with-locales.min.js'></script>
	<script src='https://www.gstatic.com/firebasejs/4.3.1/firebase.js'></script>
	<!-- app -->
	<script type='text/javascript' src='/objetos/js/cliente.js'></script>
	<script type='text/javascript' src='/objetos/js/servidor.js'></script>
</head>
<body>
	<h1>Curso de Diseño Web</h1>

	<section id='list'>
		<h2 id='title-list'>Noticias:</h2>
		<div id='all'>
			<small>cargando...</small>
		</div>
	</section>

	<section id='create'>
		<h2 id='title-create'>Crear:</h2>

		<!-- formulario nueva noticia -->
		<form id='form-new' onsubmit='return nuevaNoticia(this)'>
			<input
				id='title'
				placeholder='Titulo'
				type='text'
				required>
			<input
				id='email'
				placeholder='Email'
				type='email'
				required>
			<textarea
				id='content'
				placeholder='Noticia'
				type='text'
				required></textarea>
			<input
				id='img'
				class='none'
				type='text'
				value='/objetos/img/fondo.svg'>
			<!-- interacciónes -->
			<input
				id='img-upload'
				type='file'>
			<progress id='progress' value='0' max='100'></progress>
			<img id='fondo' width='100%' src='/objetos/img/fondo.svg' alt='fondo'>
			<input class='btn btn-primary' type='submit' value='Guardar'>
		</form>

		<!-- formulario editar noticia -->
		<form id='form-edit' class='none' onsubmit='return editarNoticiaSubmit(this)'>
			<input
				id='id-edit'
				type='text'
				value=''
				class='none'>
			<input
				id='title-edit'
				placeholder='Titulo'
				type='text'
				required>
			<input
				id='email-edit'
				placeholder='Email'
				type='email'
				required>
			<textarea
				id='content-edit'
				placeholder='Noticia'
				type='text'
				required></textarea>
			<input
				id='img-edit'
				class='none'
				type='text'>
			<!-- interacciónes -->
			<input
				id='img-upload-edit'
				type='file'>
			<progress id='progress-edit' value='0' max='100'></progress>
			<img id='fondo-edit' width='100%' src='/objetos/img/fondo.svg' alt='fondo'>
			<input id='submit' class='btn btn-warning' type='submit' value='Guardar'>
		</form>
	</section>

	<footer>
		<div class='logo-footer'>
			<a href='https://github.com/rody7val/web-noticias-cdw' target='_blank' rel='noopener noreferrer'>
				<img src='/objetos/img/github-logo.png' alt='github-logo'>
			</a>
		</div>
	</footer>

	<!-- utilidades -->
	<script type='text/javascript' src='/objetos/js/event.js'></script>
	<script type='text/javascript' src='/objetos/js/utils.js'></script>
	<script type='text/javascript' src='/objetos/js/render.js'></script>

	<!-- ejecuciónes -->
	<script type='text/javascript'>
		// formato de fechas en español
		moment.locale('es');

		// inicializar google Firebase
		firebase.initializeApp({
			apiKey: 'TU_FIREBASE_APIKEY',
			authDomain: 'TU_FIREBASE_AUTHDOMAIN',
			databaseURL: 'TU_FIREBASE_DATABASEURL',
			projectId: 'TU_FIREBASE_PROJECTID',
			storageBucket: 'TU_FIREBASE_STORAGEBUCKET',
			messagingSenderId: 'TU_FIREBASE_MESSAGINGsENDERID'
		});

		// crear app cliente;
		const diario = new Diario([]);

		// crear app servidor;
		const db = new DataBase('TU_API_PROTOCOL', 'TU_API_HOST');

		// obtener noticias del servidor
		db.obtener(noticias => {
			// guardarlas en el lado cliente
			diario.guardar(noticias);
			// y renderizarlas
			renderizar.listado(noticias);
		});
	</script>
</body>
</html>